package main

import (
	"fmt"
	"log"

	"goravel/app/models/admin"
	"github.com/goravel/framework/facades"
)

func main() {
	// 生成新密码的哈希值
	newPassword := "admin"
	hashedPassword, err := facades.Hash().Make(newPassword)
	if err != nil {
		log.Fatal("Failed to hash password:", err)
	}

	// 更新管理员密码
	result, err := facades.Orm().Query().Model(&admin.AdminUser{}).Where("username", "admin").Update("password", hashedPassword)
	if err != nil {
		log.Fatal("Failed to update password:", err)
	}

	fmt.Printf("Password updated successfully for user 'admin'. New password: %s, Rows affected: %d\n", newPassword, result.RowsAffected)
}